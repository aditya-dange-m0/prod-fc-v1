# =============================================================================
# Full-Stack AI Code Generation Platform - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# =============================================================================
# REQUIRED API KEYS
# =============================================================================

# Anthropic Claude API Key (Required)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-your_anthropic_api_key_here

# E2B Sandbox API Key (Required)
# Get from: https://e2b.dev/
E2B_API_KEY=e2b_your_e2b_api_key_here

# =============================================================================
# OPTIONAL API KEYS
# =============================================================================

# OpenAI API Key (Optional - for middleware summarization)
# Get from: https://platform.openai.com/
OPENAI_API_KEY=sk-proj-your_openai_api_key_here

# OpenRouter API Key (Optional - for alternative LLM access)
# Get from: https://openrouter.ai/
OPENROUTER_API_KEY=sk-or-v1-your_openrouter_api_key_here

# Parallel AI Search API Key (Optional - for web search tool)
# Get from: https://www.parallelai.com/
PARALLEL_API_KEY=your_parallel_ai_key_here

# Google API Keys (Optional - for Google services)
# Get from: https://console.cloud.google.com/
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_GENERATIVE_AI_API_KEY=your_google_generative_ai_key_here

# LangSmith API Key (Optional - for tracing and monitoring)
# Get from: https://smith.langchain.com/
LANGSMITH_API_KEY=lsv2_pt_your_langsmith_api_key_here
LANGCHAIN_TRACING_V2=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database URL (Pooled connection via PgBouncer)
# Format: postgresql://username:password@host:port/database_name
DATABASE_URL=postgresql://username:password@host-pooler.region.provider.com/database?sslmode=require

# Direct PostgreSQL Database URL (Direct connection, bypasses pooler)
# Use for operations that require direct connection (like checkpointer setup)
DIRECT_DATABASE_URL=postgresql://username:password@host.region.provider.com/database?sslmode=require

# SSL Configuration
SSL_MODE=require

# =============================================================================
# E2B SANDBOX CONFIGURATION
# =============================================================================

# E2B Template ID (your custom template)
E2B_TEMPLATE_ID=next-fast-mongo-pre-v2

# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================

# Redis URL for caching and session storage
REDIS_URL=redis://default:password@host:port

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application Name
APP_NAME=Backend API

# Environment
ENV=development
DEBUG=True

# Server Configuration
HOST=0.0.0.0
PORT=8000
RELOAD=true

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development flags
ENABLE_DEBUG_TOOLS=true
ENABLE_PROFILING=false
ENABLE_MOCK_SERVICES=false

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log File Path
LOG_FILE=log/log_latest.log

# Enable/Disable specific loggers
ENABLE_DB_LOGGING=true
ENABLE_AGENT_LOGGING=true
ENABLE_TOOL_LOGGING=true

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================

# Default AI Model
DEFAULT_MODEL=claude-sonnet-4-5-20250929
MODEL_TEMPERATURE=0.1
MAX_TOKENS=8192
MODEL_TIMEOUT=120

# Agent Behavior
MAX_ITERATIONS=25
ENABLE_MEMORY=true
ENABLE_SUMMARIZATION=true
SUMMARIZATION_THRESHOLD=5000

# Tool Configuration
ENABLE_FILE_TOOLS=true
ENABLE_EDIT_TOOLS=true
ENABLE_COMMAND_TOOLS=true
ENABLE_WEB_SEARCH=true
MAX_FILE_SIZE=52428800

# =============================================================================
# DATABASE POOL SETTINGS
# =============================================================================

# Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
CHECKPOINT_POOL_MIN=2
CHECKPOINT_POOL_MAX=20

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Secret for authentication (if implementing auth)
# JWT_SECRET=your_super_secret_jwt_key_here
# JWT_ALGORITHM=HS256
# JWT_EXPIRATION=3600

# API Rate Limiting
# RATE_LIMIT_PER_MINUTE=60
# RATE_LIMIT_BURST=10

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Sentry DSN for error tracking (Optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Prometheus metrics (Optional)
# ENABLE_METRICS=true
# METRICS_PORT=9090

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=30
ENABLE_HEALTH_CHECKS=true

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production optimizations (uncomment for production)
# ENV=production
# DEBUG=False
# RELOAD=false
# LOG_LEVEL=WARNING
# ENABLE_DEBUG_TOOLS=false
# SSL_MODE=require

# SSL/TLS Configuration (for production)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem
# FORCE_HTTPS=true

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Testing
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/ai_agent_test
ENABLE_TEST_MODE=false
